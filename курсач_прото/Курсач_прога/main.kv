#:kivy 1.0.9

<ImageButton@ButtonBehavior+Image>:
    id:image
    background_color: (0, 0, 0, 0)
    background_normal: ''
    background_down: ''

WindowManager:
    MainWindow:
    StoryWindow:
    AddWindow:

<AnchorLayout>:
    anchor_x:"center"
    anchor_y:"bottom"

<Button>:
    size_hint_y: None
    size_y: 40


<MainWindow>:
    name:"main"
    ScrollView:
        GridLayout:
            id: main_grid
            cols: 1
            rows:
            size_hint_y: None
            height: self.minimum_height + anchor_layout.height
            row_default_height: '40dp'
            Label:
                size_hint_y: None
                size_y: 40
                text:"Id:"+str(root.get_id())
            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                cols:2
                Label:
                    size_hint_y: None
                    size_y: 40
                    text:"Остановка:"
                Spinner:
                    size_hint_y: None
                    size_y: 40
                    values: ['28 июля', '4-й Форт', 'Абрикосовая', 'Автобаза связи', 'Автовокзал', 'Автолюбителей', 'Авторынок', 'Автошкола', 'Агротранс', 'Адамковская', 'АК Жабинка', 'Амбулатория', 'АП', 'Аркадия', 'Аэродромная', 'база «Рыбторг»', 'Бауманская', 'Безымянная', 'Беларусбанк', 'Беловежская', 'Белорусская', 'Белтелеком', 'Белтранс Ойл', 'Белцветмет', 'Береговая', 'Березовая роща', 'Березовка', 'Бернады', 'Бехтерева', 'Благовещенского', 'Боброва', 'Богдановича', 'Богданчука', 'Больница', 'Бориса Маслова', 'Брест Восточный', 'Брест Западный', 'Брестглавснаб', 'Брестоблавтотранс', 'Брестсельстрой', 'Брестских дивизий', 'БТИ', 'БТК', 'Бульвар Космонавтов', 'Бульвар Шевченко', 'Булькова', 'БЭТЗ', 'ВамРад', 'Варшавский рынок', 'Варшавское шоссе', 'Вересковая', 'Веселая', 'Ветлечебница', 'Ветренная', 'Внештранс', 'Водозабор', 'Водоканал', 'Воинов-интернационалистов', 'Волгоградская', 'Волынка', 'Восточная', 'Восточный микрорайон', 'Вульковская', 'Гаврилова', 'Гагарина', 'Газоаппарат', 'Гаражи ОПC', 'Гастелло', 'Гвардейская', 'Георгиевская', 'Гершоны', 'Гефест-Кварц', 'Гимназия №1', 'Гоголя', 'Гоздецкого', 'Городская', 'Городская больница №1', 'ГОРТОП', 'Гостиница Беларусь', 'Гостиница Дружба', 'Гостиница Юность', 'Гребной канал', 'Грибоедова', 'Грюнвальдская', 'Гузнянская', 'Дворец спорта Виктория', 'Дворникова', 'Дворцовая', 'Деревня Плоска', 'Десантная', 'Детский городок', 'Добрая', 'Дом ветеранов', 'ДП "ДС "Виктория"\nотпр.', 'ДП "ДС Виктория"\nприб.', 'ДП "Цветотрон"', 'ДП "Южный городок"', 'ДС Виктория', 'ДС Областная больница', 'ДСУ', 'Дубровка', 'Есенина', 'Ж/Д колледж', 'Жукова', 'Завод', 'Завод бытовой химии', 'Загородная', 'Загороднева', 'Заречная', 'Защитников Отечества', 'Зеленая', 'Зона отдыха', 'Зубачёва', 'Инволюкс', 'Инко Фуд', 'Интертранс', 'Интурист', 'Калиновая', 'Карасева', 'Карла Маркса', 'Картодром', 'Карьерная', 'Катин Бор', 'Кедровая', 'Киевская', 'Кирпичная', 'Кладбище', 'Кладбище Плоска', 'Кладбище Северное', 'Клары Цеткин', 'Клейники', 'Клейниковская', 'Ковалево', 'Ковельская', 'Ковельское шоссе', 'Ковры Бреста', 'Колесника', 'Колледж торговли', 'Кольцевая', 'Комсомольская', 'Костюшко', 'Котельня-Боярская', 'Красногвардейская', 'Краснознаменная', 'Красный двор', 'Крепость', 'Криштофовича', 'Крушинская', 'КСМ', 'Купальская', 'Ландшафтная', 'Лейтенанта Акимочкина', 'Лейтенанта Рябцева', 'Ленина', 'Ленинградская', 'Летная', 'Лицей', 'Луговая', 'Луцкая', 'Лысая гора', 'Магазин', 'Магазин "Продтовары"', 'Магазин "Северный"', 'Матросова', 'Махновича', 'Машиностроительный завод', 'Маяковского', 'Медицинская', 'Медицинский Комплекс', 'Медицинский Центр ЛОДЭ', 'Микрорайон Вулька', 'Микрорайон Заречный', 'Микрорайон Лагуна', 'Микрорайон Южный', 'Митьки', 'Мицкевича', 'Молодёжная', 'МОПРа', 'Московское шоссе', 'Мостовая', 'Мошенского', 'Музей Ж/д техники', 'Музей спасённых ценностей', 'Мухавецкая', 'Мытная', 'Мясокомбинат', 'Надежда', 'Новая', 'Новосельская', 'Новые Задворцы', 'Новые Козловичи', 'ОАО Брестское пиво', 'Областная больница', 'Обсерватория', 'Овощебаза', 'Озёрная', 'Озеро', 'Октябрьской революции', 'Орловская', 'Осипенко', 'Парк 1 МАЯ', 'Парк тысячелетия', 'Партизанский проспект', 'Перекресток', 'Переулок 9 Калиновый', 'Переулок Есенина', 'Переулок Калиновый', 'Петровичи', 'Пионерская', 'Площадь Ленина', 'Поворот Жемчужина', 'Поворот Ковердяки', 'Поворот Козловичи', 'Поворот Шебрин', 'Подгородская', 'Подсобное хозяйство', 'Пожарное депо', 'Поликлиника', 'Почта', 'Прибужская', 'Привокзальная', 'Пригородная', 'Пригородный вокзал', 'Приграничная', 'Пролесковая', 'Промстройбанк', 'Промтехника', 'Пронягина', 'Проспект Машерова', 'Проспект Республики', 'Профсоюзная', 'ПСО', 'Пугачево', 'Пункт подготовки вагонов', 'Пушкинская', 'Радужная', 'Ракитница', 'Рембыттехника', 'Республиканская', 'Речицкая', 'Рокоссовского', 'Рынок "ЛАГУНА"', 'Рыньковка', 'Рябиновая', 'с/т Березка', 'с/т Дорожник', 'с/т Жемчужина', 'с/т Заречье', 'с/т Радуга', 'с/т Росинка', 'с/т Светлячок', 'с/т Сигнал', 'с/т Суница', 'с/т Сябры', 'с/т Флора', 'с/т Южное 1', 'с/т Южное 2', 'Савушкин продукт', 'Садовая', 'Сальникова', 'Санта', 'Санта Бремор', 'Санта-53', 'Санта-54', 'Свердлова', 'Свердлова\nприб.', 'Светлая', 'Свободы', 'Серафима Саровского', 'Сикорского', 'Сиреневая', 'Сквер Иконникова', 'Скрипникова', 'Славнефть', 'Смирнова', 'Советская', 'Советской конституции', 'Сосновая', 'Соя', 'Спортшкола', 'Средняя Школа №1', 'Стадион Брестский', 'Стадион Локомотив', 'Стадион Строитель', 'Станция юннатов', 'Старые Задворцы', 'Стафеева', 'Стимово', 'СТО-2', 'Строительная', 'Строительный рынок', 'СШ №32', 'СШ №33', 'СЭЗ Брест', 'ТД ИДЕАЛ', 'Театр', 'Тельмы', 'Тельмы-1', 'Тенистая', 'Технический университет', 'Тихая', 'Торговый центр Восток', 'Транспортная', 'Троллейбусный парк', 'Трудовая', 'Тэльмовский лес', 'ТЭЦ', 'Тюхиничи', 'Университет', 'Урожайная', 'Училище олимпийского резерва', 'Учительская', 'Федьковичи', 'ФОК', 'Форт', 'Хабы', 'Хлебпром', 'Храм "Всецарица"', 'Цветотрон', 'ЦГБ', 'Центральная', 'Центральный рынок', 'ЦМТ', 'ЦУМ', 'Чернинская', 'Чернянская', 'Чулочный комбинат', 'Шафрановая', 'Школа', 'Школьная', 'Шоссейная', 'Щеглики-1', 'Электросети', 'Юбилейная', 'Ямно', 'Янки Купалы', 'Ясеневая', 'Ясногорская']
            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                cols:2
                Spinner:
                    size_hint_y: None
                    size_y: 40
                    id: transport_spiner
                    text: "Вид транспорта"
                    values: ["Автобус", "Троллейбус", "Маршрутка"]
                    on_text: root.update_values()
                Spinner:
                    size_hint_y: None
                    size_y: 40
                    id: number_spiner
                    text:"Номер транспорта"
                    values:

            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                cols:2
                rows:2
                TextInput:
                    size_hint_y: None
                    size_y: 40
                    hint_text:"Вошедшие"
                    multiline: False
                    input_filter: "int"
                TextInput:
                    size_hint_y: None
                    size_y: 40
                    hint_text:"Вышедшие"
                    multiline: False
                    input_filter:"int"
            Spinner:
                text: "Заполненность"
                values: ["Малая","Средняя","Высокая"]
            ImageButton:
                size_hint_y: None
                size_y: 40
                id:image_button
                source: 'file.jpg'
                size: (300, 300)
                allow_stretch: True
                keep_ratio: True
                on_release: root.show_file_dialog()
            Button:
                text: "Отправить данные"

    AnchorLayout:
        id: anchor_layout
        size_hint_y:None
        size_y:0.25
        BoxLayout:
            Button:
                text: "main"
                size_hint: 0.25 , None
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "left"
            Button:
                text: "story"
                size_hint: 0.25 , None
                on_release:
                    app.root.current = "story"
                    root.manager.transition.direction = "left"
            Button:
                text: "add"
                size_hint: 0.25 , None
                on_release:
                    app.root.current = "add"
                    root.manager.transition.direction = "left"




<StoryWindow>:
    name:"story"
    AnchorLayout:
        BoxLayout:
            Button:
                text: "main"
                size_hint: 0.25 , 0.07
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"


            Button:
                text: "story"
                size_hint: 0.25 , 0.07
                on_release:
                    app.root.current = "story"
                    root.manager.transition.direction = "left"

            Button:
                text: "add"
                size_hint: 0.25 , 0.07
                on_release:
                    app.root.current = "add"
                    root.manager.transition.direction = "left"
    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height
        Label:
            text:"story"


<AddWindow>:
    name:"add"
    AnchorLayout:
        BoxLayout:
            Button:
                text: "main"
                size_hint: 0.25 , 0.07
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"


            Button:
                text: "story"
                size_hint: 0.25 , 0.07
                on_release:
                    app.root.current = "story"
                    root.manager.transition.direction = "right"

            Button:
                text: "add"
                size_hint: 0.25 , 0.07
                on_release:
                    app.root.current = "add"
                    root.manager.transition.direction = "right"
    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height
        Label:
            text:"add"